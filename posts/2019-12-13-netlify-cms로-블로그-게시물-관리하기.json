{
  "title": "Netlify CMS로 블로그 게시물 관리하기",
  "date": "2019-12-13T07:34:54.429Z",
  "description": "Netlify CMS는 Netlify에서 콘텐츠를 효율적으로 관리하기 위한 서비스입니다. CMS를 통해 콘텐츠를 작성하거나 수정, 삭제, 읽어올 수 있습니다.",
  "thumbnail": "/img/netlify_cms.png",
  "body": "## Netlify CMS\n\nCMS(Content Management System)은 콘텐츠를 효율적으로 관리하고 저장시키는 시스템입니다. Netlify CMS도 유명하고 보통 많이 이용하는 서비스는 [Contentful](https://www.contentful.com/) 이라는 서비스가 있습니다. CMS는 콘텐츠를 작성하기 위한 UI를 제공하고 이 콘텐츠를 효율적으로 관리할 수 있게 도와줍니다.\n\nNetlify CMS는 Netlify 웹 호스팅 서비스와 같이 쉽게 사용할 수 있게 `React`로 만들어진 시스템입니다. `React`로 만들어진 컴포넌트들을 조합하여 프로젝트 내에 삽입시켜 위젯들을 커스텀하기 쉽고, 다른 프론트엔드 프레임워크에 결합시키기에도 간편합니다.\n\n시작하기에 앞서 [공식 홈페이지](https://www.netlifycms.org/docs/start-with-a-template/)에서 다양한 템플릿을 제공하니 `Nuxt` 외에 다른 프로젝트로 Netlify CMS를 이용하는 경우에는 참고하시기 바랍니다.\n\n## Netlify CMS 프로젝트와 연결시키기\n\n이전에 짧게나마 Netlify에 `Nuxt`앱을 넣어보았는데, Netlify CMS를 이용하기 위해서 우리의 프로젝트와 Netlify CMS를 연결시켜주어야 합니다. 먼저 이 CMS로 접속하려면 사용자 인증이 필요한데, Netlify에서 이 인증 과정을 Github 아이디로 인증할 수 있게 편리하게 제공해줍니다.\n\n![Netlify CMS Setting](https://firebasestorage.googleapis.com/v0/b/blog-n2ptune-xyz.appspot.com/o/images%2Fnetlify_cms_setting.png?alt=media&token=89c4ecb7-5705-4c88-8c9c-336e2f34bcad)\n\n먼저 Netlify에 접속해서 우리가 배포한 사이트의 설정 부분에 들어와 `Identity` 부분에 들어옵니다. **Services** 부분에서 Github 계정과 연결시키는 부분이 있습니다. Netlify CMS는 Github의 API를 이용해서 콘텐츠를 작성하거나 삭제, 수정할 때마다 Github에 자동으로 커밋을 작성하고 푸쉬해줍니다. 그 다음 Netlify에서 이 커밋을 감지해서 자동으로 배포시켜주는거죠. 빌드 명령이 실행되고나면 콘텐츠가 작성 된 사이트가 배포됩니다.\n\n다음은, **Registration** 부분에서 **Invite only** 혹은 **Open**을 선택합니다. **Open**을 선택하게 되면, 현재 요금제 한도 내에서 모든 유저가 이 콘텐츠에 대한 관리 권한을 갖습니다. **Invite only**를 체크하면 오직 초대한 사용자만 콘텐츠를 관리할 수 있게됩니다. (초대할 수 있는 사용자는 요금제 내 한도가 있습니다.) 우리는 개인 블로그를 만들 것이기 때문에 **Invite only** 옵션을 선택합니다.\n\n이제 Netlify CMS와 Netlify를 연결시키는 것은 끝났고 프로젝트 내에서 이 Netlify CMS에 접근할 수 있어야합니다. `/admin` 경로에 Netlify CMS를 추가합니다.\n\n```HTML\n' @/static/admin/index.html\n\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Content Manager</title>\r\n    <!-- Include the script that enables Netlify Identity on this page. -->\r\n    <script src=\"https://identity.netlify.com/v1/netlify-identity-widget.js\"></script>\r\n  </head>\r\n  <body>\r\n    <!-- Include the script that builds the page and powers Netlify CMS -->\r\n    <script src=\"https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js\"></script>\r\n  </body>\r\n</html>\n```\n\n위의 내용을 추가합니다. 타이틀과 같은 내용들은 수정해도 무방합니다. 그 다음 설정 파일을 하나 만듭시다.\n\n```yaml\n' @/static/admin/config.yaml\n\nbackend:\r\n  name: git-gateway\r\n  branch: master\r\n\r\nmedia_folder: static/img\r\npublic_folder: /img\r\n\r\ncollections:\r\n  - name: 'blog'\r\n    label: 'Blog'\r\n    format: 'json'\r\n    folder: 'assets/content/blog'\r\n    create: true\r\n    slug: '{{year}}-{{month}}-{{day}}-{{slug}}'\r\n    editor:\r\n      preview: false\r\n    fields:\r\n      - { label: 'Title', name: 'title', widget: 'string' }\r\n      - { label: 'Publish Date', name: 'date', widget: 'datetime' }\r\n      - { label: 'Description', name: 'description', widget: 'string' }\r\n      - { label: 'Body', name: 'body', widget: 'markdown' }\n```\n\nNetlify CMS는 `config.yaml`의 내용을 설정으로 읽어들여 UI를 제공하고 작성된 내용을 읽어들여 `json` 파일로 만들어냅니다. 포맷은 바꿀 수 있지만 내용을 쉽게 다루기 위하여 `json` 파일로 합시다.\n\n## 커스텀 가능한 옵션\n\n설정 파일 각 부분에 대한 설명입니다.\n\n**backend** 부분은 Netlify CMS의 공식 내용을 참고해보시기 바라며 건드리지 않는게 좋습니다.\n\n- **media_folder** 콘텐츠에 이미지를 넣기 위하여 이 이미지가 저장되는 로컬 경로 이 부분에서는 Nuxt의 alias 경로를 알 수 없습니다. (@, @@, ~, ~~) 그렇기 때문에 `src/static/img` 이런 식으로 경로를 지정해주어야 합니다.\n\n- **public_folder** 이미지를 불러들이기 위한 경로입니다. `nuxt generate` 명령으로 페이지를 만들어내게 되면 `/static` 경로의 모든 내용은 루트 디렉터리에 위치하게 됩니다.\n\n- **collections** 실제 CMS가 읽어들이고 위젯을 만들어내는 곳입니다. **name**, **label**은 범주입니다. **folder**는 콘텐츠가 저장 될 경로를 지정해주시면 됩니다. **create**는 사용자가 콘텐츠를 작성할 수 있는지에 대한 내용입니다. 기본값이 `false`기 때문에 `true`로 바꿔줍니다.\n\n- **slug** 파일의 제목입니다. url로도 쓰입니다. 어떻게 만들어질지를 정하는 부분입니다. 위의 내용은 다음과 같이 작성됩니다. `2019-12-05-slug` 맨 오른쪽 속성인 `slug`는 URL에 안전한 파일의 제목 필드입니다. (다른 필드도 될 수 있습니다.) 그 밖에 넣을 수 있는 속성은 `author, day, hour, minute, second` 등이 있습니다.\n\n- **fields** 타이틀, 설명, 태그, 시리즈, 썸네일 등의 필드를 만들 수 있는 곳입니다. 이 필드의 내용들은 모두 JSON으로 만들어져 나중에 Nuxt에서 뽑아와서 메타 태그를 구성하기 좋습니다. 필드는 다양하며 더욱 자세한 내용은 [Netlify CMS 위젯](https://www.netlifycms.org/docs/widgets)에서 확인하시면 되겠습니다.",
  "tags": [
    "nuxt",
    "netlify"
  ],
  "series": "Nuxt, Netlify로 개인 블로그 만들기"
}